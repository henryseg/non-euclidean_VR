<html>

<head>
    <meta charset="utf-8">
    <title>Single ball in Nil (Virtual reality)</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../../../images/favicon.png">
    <!-- Style sheets -->
    <link rel="stylesheet" href="../css/style.css">
    <!-- Import maps polyfill -->
    <!-- Remove this when import maps will be widely supported -->
    <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "../jsm/three.module.js",
                "thurstonNil": "../../build/thurstonNil.js"
            }
        }
    </script>
</head>

<body>
</body>
<script type="module" id="main">

    import {
        ThurstonVR,
        trivialSet as trivial,
        Point,
        NormalMaterial,
        complement, intersection,
        PotatoShape,
        Solid,
    } from "thurstonNil";



    const thurston = new ThurstonVR(trivial, {keyboard: 'fr'});


    // Ball
    const mat = new NormalMaterial();

    let aux = [];
    aux.push(new PotatoShape(new Point(), 0.55, 0.9, 1, 4));
    aux.push(new PotatoShape(new Point(1, 0, 0), 0.55, 0.9, 1, 4));
    aux.push(new PotatoShape(new Point(-1, 0, 0), 0.55, 0.9, 1, 4));
    aux.push(new PotatoShape(new Point(0, 1, 0), 0.55, 0.9, 1, 4));
    aux.push(new PotatoShape(new Point(0, -1, 0), 0.55, 0.9, 1, 4));

    let cAux = [];
    for(const ball of aux) {
        cAux.push(complement(ball));
    }
    const shape = intersection(...cAux);

    const solid = new Solid(shape, mat);

    thurston.add(solid);

    thurston.run();
    thurston.renderer.checkShader();


</script>

</html>
